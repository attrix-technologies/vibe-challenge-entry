"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getChildrenForRender = exports.convertChild = exports.getChildren = void 0;
const react_1 = __importDefault(require("react"));
const miniTabsItem_1 = require("./miniTabsItem");
const getChildren = (elem) => {
    if (!elem) {
        return undefined;
    }
    if (Array.isArray(elem)) {
        return elem;
    }
    return [elem];
};
exports.getChildren = getChildren;
const convertChild = (child) => {
    if (child.type === miniTabsItem_1.MiniTabsItem) {
        return Object.assign({}, child.props);
    }
    if (child.type === react_1.default.Fragment && child.props.children) {
        if (Array.isArray(child.props.children)) {
            return [...child.props.children].filter(el => (el.type === miniTabsItem_1.MiniTabsItem)).map(el => el.props);
        }
        return child.props.children.type === miniTabsItem_1.MiniTabsItem ? Object.assign({}, child.props.children.props) : undefined;
    }
    return undefined;
};
exports.convertChild = convertChild;
const getChildrenForRender = (children) => {
    var _a;
    const childElements = (_a = (0, exports.getChildren)(children)) === null || _a === void 0 ? void 0 : _a.map(exports.convertChild).filter(el => el).reduce((acc, curr) => acc.concat(curr), []);
    return childElements || [];
};
exports.getChildrenForRender = getChildrenForRender;
