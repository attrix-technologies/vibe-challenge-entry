"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NavMobileBar = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const classNames_1 = require("../../commonHelpers/classNames/classNames");
const navItem_1 = require("../navItem/navItem");
const iconMenu_1 = require("../../icons/iconMenu");
const iconClose_1 = require("../../icons/iconClose");
const useLanguage_1 = require("../../utils/localization/useLanguage");
const generateId_1 = require("../../commonHelpers/generateId");
/**
 * @beta This component is not fully ready yet and may change in future releases.
 */
const NavMobileBar = ({ className, children, isMenuOpen, onMenuToggle }) => {
    const { translate } = (0, useLanguage_1.useLanguage)();
    const mobileBarClassNames = (0, classNames_1.classNames)([
        "zen-nav-mobile-bar",
        className !== null && className !== void 0 ? className : ""
    ]);
    const items = react_1.Children.toArray(children).filter(child => {
        const element = child;
        return element.type && element.type.displayName === "NavItem";
    }).map(child => {
        const element = child;
        const existingClassName = element.props.className || "";
        const key = (0, generateId_1.generateId)();
        return (0, react_1.cloneElement)(element, Object.assign(Object.assign({}, element.props), { key, collapsed: true, className: (0, classNames_1.classNames)([
                existingClassName,
                "zen-nav-item--mobile-bar"
            ]) }));
    });
    return (0, jsx_runtime_1.jsxs)("div", { className: mobileBarClassNames, children: [items, (0, jsx_runtime_1.jsx)(navItem_1.NavItem, { className: "zen-nav-item--mobile-bar", title: translate("More"), primaryIcon: isMenuOpen ? iconClose_1.IconClose : iconMenu_1.IconMenu, collapsed: true, onClick: onMenuToggle }, "nav-mobile-bar-more-button")] });
};
exports.NavMobileBar = NavMobileBar;
