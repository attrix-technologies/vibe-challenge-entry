"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ComboList = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
/* eslint-disable react/prop-types */
const react_1 = require("react");
const classNames_1 = require("../commonHelpers/classNames/classNames");
const comboListHook_1 = require("./comboListHook");
const iconFolderNew_1 = require("../icons/deprecated/iconFolderNew");
const FolderItem = ({ children }) => (0, jsx_runtime_1.jsxs)("div", { className: "zen-combo-list__item-container", children: [(0, jsx_runtime_1.jsx)(iconFolderNew_1.IconFolderNew, { className: "zen-combo-list__icon", size: "large" }), children] });
const CheckBox = ({ children, icon }) => (0, jsx_runtime_1.jsx)("div", { className: "zen-combo-list__item-container", children: (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [icon ? (0, react_1.createElement)(icon, { className: "zen-combo-list__icon" }) : "", " ", children] }) });
const ComboList = ({ className, items, onChange, listId, path, checkedItems, hoverId }) => {
    const listClassName = (0, classNames_1.classNames)(["zen-combo-list", className || ""]);
    const hoveredItem = (0, react_1.useRef)(null);
    (0, comboListHook_1.useAutoScroll)(hoverId, items, hoveredItem);
    return (0, jsx_runtime_1.jsx)("ul", { className: listClassName, id: listId, role: "listbox", tabIndex: 0, "aria-label": path, ref: hoveredItem, children: items.map(item => {
            const itemClassName = (0, classNames_1.classNames)([
                "zen-combo-list__item",
                hoverId === item.id ? "zen-combo-list__item--hover" : "",
                checkedItems.has(item.id) && !(item.children && item.children.length) ? "zen-combo-list__item--selected" : "",
                item.className || ""
            ]);
            const title = item.path ? item.path : `${path ? path + "/" : ""}${item.name}`;
            return (0, jsx_runtime_1.jsx)("li", { className: itemClassName, onClick: () => onChange(item.id, !checkedItems.has(item.id)), "aria-selected": checkedItems.has(item.id), role: "option", title: title, children: item.children ?
                    (0, jsx_runtime_1.jsx)(FolderItem, { children: item.name })
                    :
                        (0, jsx_runtime_1.jsx)(CheckBox, { icon: item.icon, id: item.id, onChange: onChange, checked: checkedItems.has(item.id), children: item.name }) }, item.id);
        }) });
};
exports.ComboList = ComboList;
