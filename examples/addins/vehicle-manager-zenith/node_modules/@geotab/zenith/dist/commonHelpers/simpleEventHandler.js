"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SimpleEventHandler = void 0;
class SimpleEventHandler {
    constructor() {
        Object.defineProperty(this, "simpleEventCache", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: {}
        });
    }
    attach(event, handler) {
        this.simpleEventCache[event] = this.simpleEventCache[event] || [];
        this.simpleEventCache[event].push(handler);
        return this;
    }
    detach(event, handler) {
        if (event) {
            if (handler) {
                this.simpleEventCache[event] = (this.simpleEventCache[event] || []).filter(h => h !== handler);
            }
            else if (this.simpleEventCache[event]) {
                this.simpleEventCache[event].length = 0;
            }
        }
        else {
            this.simpleEventCache = {};
        }
        return this;
    }
    fire(event, data) {
        (this.simpleEventCache[event] || []).forEach(handler => {
            handler.call(this, data);
        });
    }
}
exports.SimpleEventHandler = SimpleEventHandler;
