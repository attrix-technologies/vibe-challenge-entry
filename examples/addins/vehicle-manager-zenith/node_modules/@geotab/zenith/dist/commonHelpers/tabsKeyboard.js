"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tabsKeyboardTabHandler = exports.tabsKeyboardHandler = void 0;
const tabsKeyboardHandler = (e, tabsArr, activeId) => {
    const getCurrentIndex = () => tabsArr.findIndex(el => el.id === activeId);
    switch (e.key) {
        case "ArrowLeft": {
            const currentIndex = getCurrentIndex();
            const prevPaneIndex = currentIndex > -1 ? currentIndex - 1 : undefined;
            const newPaneId = prevPaneIndex !== undefined && prevPaneIndex > -1 ? tabsArr[prevPaneIndex].id : tabsArr[tabsArr.length - 1].id;
            return newPaneId;
        }
        case "Home": {
            e.preventDefault();
            return tabsArr[0].id;
        }
        case "ArrowRight": {
            const currentIndex = getCurrentIndex();
            const nextPaneIndex = currentIndex > -1 ? currentIndex + 1 : undefined;
            const newPaneId = nextPaneIndex !== undefined && nextPaneIndex < tabsArr.length ? tabsArr[nextPaneIndex].id : tabsArr[0].id;
            return newPaneId;
        }
        case "End": {
            e.preventDefault();
            const newPaneId = tabsArr[tabsArr.length - 1].id;
            return newPaneId;
        }
        default:
            return null;
    }
};
exports.tabsKeyboardHandler = tabsKeyboardHandler;
const tabsKeyboardTabHandler = (e, tabsArr, activeElement) => {
    const currentActiveId = activeElement.getAttribute("id") || "";
    const getCurrentIndex = () => tabsArr.findIndex(el => el.id === currentActiveId);
    const currentIndex = getCurrentIndex();
    if (e.key === "Tab" && !e.shiftKey) {
        const nextIndex = currentIndex > -1 && currentIndex < tabsArr.length - 1 ? currentIndex + 1 : undefined;
        return nextIndex !== undefined ? tabsArr[nextIndex].id : undefined;
    }
    if (e.key === "Tab" && e.shiftKey) {
        const nextIndex = currentIndex > 0 ? currentIndex - 1 : undefined;
        return nextIndex !== undefined ? tabsArr[nextIndex].id : undefined;
    }
    return undefined;
};
exports.tabsKeyboardTabHandler = tabsKeyboardTabHandler;
