"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fetchReducer = void 0;
const fetch_actionType_1 = require("./fetch.actionType");
const isAbortError = (e) => e.message === "Aborted";
function fetchReducer(state, action) {
    const { type, payload } = action;
    switch (type) {
        case fetch_actionType_1.FetchActionType.Init:
            return Object.assign(Object.assign({}, state), { isLoading: true });
        case fetch_actionType_1.FetchActionType.Success:
            return Object.assign(Object.assign({}, state), { isLoading: false, data: payload, error: undefined });
        case fetch_actionType_1.FetchActionType.Fail:
            return Object.assign(Object.assign({}, state), { isLoading: false, data: undefined, error: isAbortError(payload) ? undefined : payload });
        default:
            throw new Error("Unknown action type");
    }
}
exports.fetchReducer = fetchReducer;
