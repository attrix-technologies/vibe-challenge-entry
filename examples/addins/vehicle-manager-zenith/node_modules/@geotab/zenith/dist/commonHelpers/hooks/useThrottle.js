"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useThrottle = void 0;
const react_1 = require("react");
const useThrottle = function (callback, delay = 400) {
    const timeoutRef = (0, react_1.useRef)(undefined);
    const latestValuesRef = (0, react_1.useRef)(undefined);
    return (0, react_1.useCallback)((...rest) => {
        if (!timeoutRef.current) {
            timeoutRef.current = setTimeout(() => {
                latestValuesRef.current && callback(...(latestValuesRef.current));
                timeoutRef.current = undefined;
                latestValuesRef.current = undefined;
            }, delay);
        }
        latestValuesRef.current = rest;
        return () => clearTimeout(timeoutRef.current);
    }, [callback, delay]);
};
exports.useThrottle = useThrottle;
