"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FormStepperButtons = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const button_1 = require("../button/button");
const iconChevronLeft_1 = require("../icons/iconChevronLeft");
const textIconButton_1 = require("../textIconButton/textIconButton");
const useLanguage_1 = require("../utils/localization/useLanguage");
const FormStepperButtons = ({ onPrevious, onCancel, onContinue, onSubmit, current, setCurrent, steps, isNextDisabled, className = "" }) => {
    const { translate } = (0, useLanguage_1.useLanguage)();
    const onPreviousHandler = (0, react_1.useCallback)(() => {
        setCurrent((prev) => {
            const currentIndex = steps.findIndex((step) => step.id === prev);
            if (currentIndex === -1) {
                return prev;
            }
            return steps[currentIndex - 1].id;
        });
        onPrevious === null || onPrevious === void 0 ? void 0 : onPrevious();
    }, [onPrevious, setCurrent, steps]);
    const onContinueHandler = (0, react_1.useCallback)(() => {
        setCurrent((prev) => {
            const currentIndex = steps.findIndex((step) => step.id === prev);
            if (currentIndex === -1) {
                return prev;
            }
            return steps[currentIndex + 1].id;
        });
        onContinue === null || onContinue === void 0 ? void 0 : onContinue();
    }, [onContinue, setCurrent, steps]);
    const isFirstStep = steps[0].id === current;
    const isLastStep = steps[steps.length - 1].id === current;
    return ((0, jsx_runtime_1.jsxs)("div", { className: `zen-form-step-buttons ${className}`, children: [(0, jsx_runtime_1.jsx)("div", { className: "zen-form-step-buttons__left", children: !isFirstStep && (0, jsx_runtime_1.jsx)(textIconButton_1.TextIconButton, { className: "zen-form-step-buttons__previous", icon: iconChevronLeft_1.IconChevronLeft, type: "tertiary-black", onClick: onPreviousHandler, children: translate("Previous step") }) }), (0, jsx_runtime_1.jsxs)("div", { className: "zen-form-step-buttons__right", children: [(0, jsx_runtime_1.jsx)(button_1.Button, { className: "zen-form-step-buttons__cancel", type: "secondary", onClick: onCancel, children: translate("Cancel") }), isLastStep ? ((0, jsx_runtime_1.jsx)(button_1.Button, { disabled: isNextDisabled, className: "zen-form-step-buttons__submit", type: "primary", onClick: onSubmit, children: translate("Submit") })) : ((0, jsx_runtime_1.jsx)(button_1.Button, { disabled: isNextDisabled, className: "zen-form-step-buttons__continue", type: "primary", onClick: onContinueHandler, children: translate("Continue") }))] })] }));
};
exports.FormStepperButtons = FormStepperButtons;
