"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ColumnSettingsSidePanel = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const mobileSheet_1 = require("../../../mobileSheet/mobileSheet");
const button_1 = require("../../../button/button");
const useLanguage_1 = require("../../../utils/localization/useLanguage");
const ColumnSettingsSidePanelComp = ({ triggerRef, isOpen, onOpen, onClose, onReset, children }) => {
    const { translate } = (0, useLanguage_1.useLanguage)();
    const abortEventsControllerRef = (0, react_1.useRef)();
    (0, react_1.useEffect)(() => {
        var _a;
        if (triggerRef === null || triggerRef === void 0 ? void 0 : triggerRef.current) {
            (_a = abortEventsControllerRef.current) === null || _a === void 0 ? void 0 : _a.abort();
            abortEventsControllerRef.current = new AbortController();
            triggerRef.current.addEventListener("click", () => onOpen(!isOpen), { signal: abortEventsControllerRef.current.signal });
        }
    }, [triggerRef, isOpen, onOpen]);
    return (0, jsx_runtime_1.jsxs)(mobileSheet_1.MobileSheet, { panelPosition: "right", triggerRef: triggerRef, label: translate("Customize view"), isOpen: isOpen, onCloseClick: onClose, onHidePanel: onClose, children: [(0, jsx_runtime_1.jsx)(mobileSheet_1.MobileSheet.Title, { children: translate("Customize view") }), (0, jsx_runtime_1.jsx)(mobileSheet_1.MobileSheet.Content, { children: children }), (0, jsx_runtime_1.jsx)(mobileSheet_1.MobileSheet.Footer, { children: (0, jsx_runtime_1.jsx)(button_1.Button, { onClick: onReset, type: "tertiary", children: "Reset" }) })] });
};
exports.ColumnSettingsSidePanel = Object.assign(ColumnSettingsSidePanelComp, { translations: [
        "Customize view"
    ] });
