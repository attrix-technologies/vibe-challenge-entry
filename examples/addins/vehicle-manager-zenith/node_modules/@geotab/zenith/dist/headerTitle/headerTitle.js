"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TRANSLATIONS = exports.HeaderTitle = exports.HeaderTitleDisplayName = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const classNames_1 = require("../commonHelpers/classNames/classNames");
const betaPill_1 = require("../betaPill/betaPill");
const useMobile_1 = require("../commonHelpers/hooks/useMobile");
const useDriveClassName_1 = require("../utils/theme/useDriveClassName");
const headerBack_1 = require("../header/headerBack");
const bookmark_1 = require("../bookmark/bookmark");
exports.HeaderTitleDisplayName = "PageHeader";
const HeaderTitle = ({ id, children, className, pageName, subline, isBeta, isMobile: isMobileProp, allowBookmarkWithBack, feedBackAction, betaOptionAction }) => {
    const isMobile = (0, useMobile_1.useMobile)();
    const driveMainLineClassName = (0, useDriveClassName_1.useDriveClassName)("zen-page-header__main-line");
    const drivePageNameClassName = (0, useDriveClassName_1.useDriveClassName)("zen-page-header__page-name");
    const clsNames = (0, classNames_1.classNames)([
        "zen-page-header",
        "zen-page-header--new",
        isMobileProp || isMobileProp === undefined && isMobile ? "zen-page-header--mobile" : "",
        className || ""
    ]);
    const [back, other] = (0, react_1.useMemo)(() => {
        const b = [];
        const o = [];
        react_1.Children.forEach(children, (child) => {
            if (!b.length && (child === null || child === void 0 ? void 0 : child.type) === headerBack_1.HeaderBack) {
                b.push(child);
                return;
            }
            child && o.push(child);
            return;
        });
        return [b, b.length && !allowBookmarkWithBack ? o.filter(el => el.type !== bookmark_1.Bookmark) : o];
    }, [children, allowBookmarkWithBack]);
    return (0, jsx_runtime_1.jsxs)("header", { id: id, className: clsNames, children: [(0, jsx_runtime_1.jsxs)("div", { className: (0, classNames_1.classNames)(["zen-page-header__main-line", driveMainLineClassName || ""]), children: [back.length ? back : null, (0, jsx_runtime_1.jsx)("h1", { className: (0, classNames_1.classNames)(["zen-page-header__page-name", drivePageNameClassName || ""]), children: pageName }), isBeta ? (0, jsx_runtime_1.jsx)(betaPill_1.BetaPill, { feedbackAction: feedBackAction, betaOptionAction: betaOptionAction, className: "zen-page-header__beta" }) : null, other.length ? other : null] }), subline || ""] });
};
exports.HeaderTitle = HeaderTitle;
exports.HeaderTitle.displayName = exports.HeaderTitleDisplayName;
exports.TRANSLATIONS = [
    ...betaPill_1.TRANSLATIONS
];
