"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isPropertiesEqual = void 0;
const isArraysEqualDeeply_1 = require("./isArraysEqualDeeply");
const isArraysEqualShallow_1 = require("./isArraysEqualShallow");
const isBothArraysShallow_1 = require("./isBothArraysShallow");
const isElementsEqual_1 = require("./isElementsEqual");
const isObject_1 = require("./isObject");
const isObjectsEqualShallow_1 = require("./isObjectsEqualShallow");
const isPrimitive_1 = require("./isPrimitive");
const isBothArrays = (elem1, elem2) => Array.isArray(elem1) && Array.isArray(elem2);
const isArraysNotEqual = (val1, val2) => {
    if (!isBothArrays(val1, val2)) {
        return false;
    }
    if ((0, isBothArraysShallow_1.isBothArraysShallow)(val1, val2) && !(0, isArraysEqualShallow_1.isArraysEqualShallow)(val1, val2)) {
        return true;
    }
    if (!(0, isArraysEqualDeeply_1.isArraysEqualDeeply)(val1, val2)) {
        return true;
    }
    return false;
};
const isBothObjectsShallow = (val1, val2) => (0, isObject_1.isObject)(val1) && (0, isObject_1.isObject)(val2);
const isPrimitivesNotEqual = (item1, item2) => (0, isPrimitive_1.isPrimitive)(item1) && (0, isPrimitive_1.isPrimitive)(item2) && item1 !== item2;
const isObjectsNotEqualShallow = (val1, val2) => {
    if (!(0, isObject_1.isObject)(val1) || !(0, isObject_1.isObject)(val2)) {
        return false;
    }
    if (isBothObjectsShallow(val1, val2) && !(0, isObjectsEqualShallow_1.isObjectsEqualShallow)(val1, val2)) {
        return true;
    }
    return false;
};
const isPropertiesEqual = (elem1, elem2) => {
    const elem1Keys = Object.keys(elem1);
    for (const key of elem1Keys) {
        if (isPrimitivesNotEqual(elem1[key], elem2[key])) {
            return false;
        }
        if (isArraysNotEqual(elem1[key], elem2[key])) {
            return false;
        }
        if (isObjectsNotEqualShallow(elem1[key], elem2[key])) {
            return false;
        }
        if (!(0, isElementsEqual_1.isElementsEqual)(elem1[key], elem2[key])) {
            return false;
        }
    }
    return true;
};
exports.isPropertiesEqual = isPropertiesEqual;
