"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.normalizeHorizontally = void 0;
const MIN_WIDTH = 170;
const normalizeHorizontally = (position, popupRect, parentWidth) => {
    if (parentWidth <= popupRect.width) {
        position.left = 0;
        position.right = 0;
        return;
    }
    if (position.left) {
        if (position.left < 0) {
            position.left = 0;
        }
        const overflowLeft = (position.left + popupRect.width) - parentWidth;
        if (overflowLeft <= 0) {
            return;
        }
        if (popupRect.width < parentWidth) {
            position.left = position.left - overflowLeft;
            return;
        }
        if (popupRect.width - overflowLeft >= MIN_WIDTH) {
            position.width = popupRect.width - overflowLeft;
            return;
        }
        position.left = parentWidth - MIN_WIDTH;
        position.width = MIN_WIDTH;
        return;
    }
    if (position.right) {
        if (position.right < 0) {
            position.right = 0;
        }
        const overflowRight = (position.right + popupRect.width) - parentWidth;
        if (overflowRight <= 0) {
            return;
        }
        if (popupRect.width - overflowRight > MIN_WIDTH) {
            position.width = popupRect.width - overflowRight;
            return;
        }
        position.right = parentWidth - MIN_WIDTH;
        position.width = MIN_WIDTH;
        return;
    }
};
exports.normalizeHorizontally = normalizeHorizontally;
