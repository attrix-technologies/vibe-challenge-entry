"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TRANSLATIONS = exports.GroupsFilterCurrentlySelectedState = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const toggleButton_1 = require("../toggleButton/toggleButton");
const groupsFilterCommon_1 = require("./groupsFilterCommon");
const groupsFilterInterfaces_1 = require("./groupsFilterInterfaces");
const twoOptionsSwitcher_1 = require("../twoOptionsSwitcher/twoOptionsSwitcher");
const iconGlobe_1 = require("../icons/deprecated/iconGlobe");
const iconBackArrow_1 = require("../icons/deprecated/iconBackArrow");
const useLanguage_1 = require("../utils/localization/useLanguage");
const GroupsFilterCurrentlySelectedState = ({ children, siteWideState, relation, count, onBackButtonClick, onSiteWideChange, onRelationChange }) => {
    const { translate } = (0, useLanguage_1.useLanguage)();
    const togglerId = (0, react_1.useId)();
    const getActionButton = (label, title, icon, handleClick) => (0, jsx_runtime_1.jsx)("button", { type: "button", onClick: handleClick, className: "zen-groups-filter-menu__item zen-groups-filter-menu__item--interactive zen-groups-filter-menu__action-button zen-groups-filter-menu__action-button-back", title: title, children: (0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, react_1.createElement)(icon, { className: "zen-groups-filter__icon zen-groups-filter-menu__action-icon", size: "large" }), (0, jsx_runtime_1.jsx)("div", { className: "zen-groups-filter-menu__action-label zen-groups-filter-menu__action-label--limited zen-ellipsis body-02-short", children: label })] }) });
    const handleTogglerChange = (newState) => {
        onSiteWideChange(newState.target.checked);
    };
    const handleRelationChange = (newState) => {
        // eslint-disable-next-line @typescript-eslint/no-unsafe-enum-comparison
        onRelationChange(newState === groupsFilterInterfaces_1.RelationOperator.AND ? groupsFilterInterfaces_1.RelationOperator.AND : groupsFilterInterfaces_1.RelationOperator.OR);
    };
    return (0, jsx_runtime_1.jsxs)("div", { className: "zen-groups-filter-menu__content-selected", children: [getActionButton(translate("Back"), translate("Back"), iconBackArrow_1.IconBackArrow, onBackButtonClick), (0, jsx_runtime_1.jsx)("div", { className: "zen-groups-filter-menu__item-wrapper", children: (0, jsx_runtime_1.jsx)(toggleButton_1.ToggleButton, { onChange: handleTogglerChange, id: togglerId, checked: siteWideState, isReverted: true, className: "zen-groups-filter-menu__item", title: translate("Apply site-wide"), children: (0, jsx_runtime_1.jsxs)("div", { className: "zen-groups-filter-menu__toggle-label zen-ellipsis", children: [(0, jsx_runtime_1.jsx)(iconGlobe_1.IconGlobe, { className: "zen-groups-filter__icon zen-groups-filter-menu__action-icon", size: "large" }), (0, jsx_runtime_1.jsx)("span", { className: "zen-groups-filter__label-element", children: translate("Apply site-wide") })] }) }) }), (0, jsx_runtime_1.jsxs)("div", { className: "zen-groups-filter-menu__item--stretched zen-groups-filter-menu__currently-selected", children: [(0, jsx_runtime_1.jsx)(groupsFilterCommon_1.GroupsFilterCurrentlySelectedLabel, { className: "zen-groups-filter__label-element--no-shrink zen-ellipsis", count: count }), (0, jsx_runtime_1.jsx)(twoOptionsSwitcher_1.TwoOptionsSwitcher, { leftOption: {
                            label: translate("OR"),
                            value: groupsFilterInterfaces_1.RelationOperator.OR
                        }, rightOption: {
                            label: translate("AND"),
                            value: groupsFilterInterfaces_1.RelationOperator.AND
                        }, value: relation, onChange: handleRelationChange })] }), (0, jsx_runtime_1.jsx)("div", { className: "zen-groups-filter-menu__separator" }), (0, jsx_runtime_1.jsx)("div", { className: "zen-groups-filter-menu__groups-box", children: children })] });
};
exports.GroupsFilterCurrentlySelectedState = GroupsFilterCurrentlySelectedState;
exports.TRANSLATIONS = [
    "Apply site-wide",
    "Back",
    "Advanced",
    "AND",
    "OR"
];
