"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.calculateArrowPosition = void 0;
const borderRadius = 4;
const normalizeLeft = (left, tooltipWidth, arrowWidth) => Math.min(tooltipWidth - borderRadius - arrowWidth, Math.max(borderRadius, left));
const normalizeTop = (top, tooltipHeight, arrowHeight) => Math.min(tooltipHeight - borderRadius - arrowHeight, Math.max(borderRadius, top));
const calculateArrowPosition = (triggerRef, tooltipRef, arrowRef, alignment) => {
    if (!triggerRef.current) {
        return;
    }
    if (!tooltipRef.current) {
        return;
    }
    if (!arrowRef.current) {
        return;
    }
    const triggerElement = triggerRef.current;
    const tooltip = tooltipRef.current;
    const triggerRect = triggerElement.getBoundingClientRect();
    const tooltipRect = tooltip.getBoundingClientRect();
    if (alignment === "top" || alignment === "top-right" || alignment === "top-left" || alignment === "bottom" || alignment === "bottom-right" || alignment === "bottom-left") {
        const left = normalizeLeft(triggerRect.left - tooltipRect.left + triggerRect.width / 2 - arrowRef.current.offsetWidth / 2, tooltipRect.width, arrowRef.current.offsetWidth);
        arrowRef.current.style.left = `${left}px`;
    }
    if (alignment === "right" || alignment === "right-top" || alignment === "right-bottom" || alignment === "left" || alignment === "left-top" || alignment === "left-bottom") {
        const top = normalizeTop(triggerRect.top - tooltipRect.top + triggerRect.height / 2 - arrowRef.current.offsetHeight / 2, tooltipRect.height, arrowRef.current.offsetHeight);
        arrowRef.current.style.top = `${top}px`;
    }
};
exports.calculateArrowPosition = calculateArrowPosition;
