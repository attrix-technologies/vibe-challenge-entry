"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.BannerMultiline = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const classNames_1 = require("../commonHelpers/classNames/classNames");
const bannerUtils_1 = require("./bannerUtils");
const useLanguage_1 = require("../utils/localization/useLanguage");
const typeIcon_1 = __importDefault(require("./typeIcon"));
const buttonType_1 = require("../button/buttonType");
const iconClose_1 = require("../icons/iconClose");
const button_1 = require("../button/button");
const useDriveClassName_1 = require("../utils/theme/useDriveClassName");
const react_1 = require("react");
const useNodeText_1 = require("../utils/useNodeText");
const BannerMultiline = ({ children, header, type = "warning", icon, action, onClose, role, ariaAtomic, ariaLive, size = bannerUtils_1.DEFAULT_BANNER_SIZE, primaryAction, className = "" }) => {
    const bannerOptions = (0, bannerUtils_1.getBannerOptions)(type);
    const { translate } = (0, useLanguage_1.useLanguage)();
    const bannerBlockClassName = (0, useDriveClassName_1.useDriveClassName)("zen-banner__block");
    const bannerHeaderClassName = (0, useDriveClassName_1.useDriveClassName)("zen-banner__header");
    const bannerMessageClassName = (0, useDriveClassName_1.useDriveClassName)("zen-banner__message");
    const closeButtonClassName = (0, useDriveClassName_1.useDriveClassName)("zen-banner__close-button");
    const contentRef = (0, react_1.useRef)(null);
    const text = (0, useNodeText_1.useNodeText)(contentRef);
    const linkClasses = (0, classNames_1.classNames)(["zen-banner__link", "zen-banner__link--" + type]);
    const blockClassNames = (0, classNames_1.classNames)([
        "zen-banner",
        "zen-banner__block",
        bannerBlockClassName || "",
        bannerOptions.blockClassName, className,
        "zen-banner__block--multiline",
        "zen-banner__block--" + size
    ]);
    return (0, jsx_runtime_1.jsx)("div", { className: blockClassNames, role: role, "aria-atomic": ariaAtomic, "aria-live": ariaLive, children: (0, jsx_runtime_1.jsxs)("div", { className: (0, classNames_1.classNames)(["zen-banner__content", "zen-banner__content--multiline", `zen-banner__content--${size}`]), children: [header && (0, jsx_runtime_1.jsxs)("div", { className: "zen-banner__multiline-container", children: [(0, jsx_runtime_1.jsxs)("div", { className: "zen-banner__header-container", children: [icon && header && (0, jsx_runtime_1.jsx)(typeIcon_1.default, { type: type }), header && (0, jsx_runtime_1.jsx)("div", { className: (0, classNames_1.classNames)(["zen-banner__header", bannerHeaderClassName || ""]), children: header })] }), onClose && (0, jsx_runtime_1.jsx)("button", { type: "button", className: (0, classNames_1.classNames)(["zen-banner__close-button", closeButtonClassName || ""]), onClick: onClose, title: translate("Close"), "aria-label": translate("Close"), children: (0, jsx_runtime_1.jsx)(iconClose_1.IconClose, { size: bannerHeaderClassName ? "huge" : "large" }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "zen-banner__message-container", children: [icon && !header && (0, jsx_runtime_1.jsx)(typeIcon_1.default, { className: "zen-banner__icon-block--top-gap", type: type }), (0, jsx_runtime_1.jsx)("div", { ref: contentRef, title: text, className: (0, classNames_1.classNames)(["zen-banner__message", `zen-banner__message--${size}`, "zen-banner__message--multiline", bannerMessageClassName || ""]), children: children }), onClose && !header && (0, jsx_runtime_1.jsx)("button", { type: "button", className: "zen-banner__close-button zen-banner__close-button--top-gap", onClick: onClose, title: translate("Close"), "aria-label": translate("Close"), children: (0, jsx_runtime_1.jsx)(iconClose_1.IconClose, { size: bannerHeaderClassName ? "huge" : "large" }) })] }), (action || primaryAction) && (0, jsx_runtime_1.jsxs)("div", { className: "zen-banner__action zen-banner__action--multiline", children: [action && (0, jsx_runtime_1.jsx)(button_1.Button, { className: linkClasses, type: buttonType_1.ButtonType.Tertiary, link: action.link, target: action.target, onClick: action.onClick, children: action.text }), primaryAction && (0, jsx_runtime_1.jsx)(button_1.Button, { className: linkClasses, type: buttonType_1.ButtonType.Primary, link: primaryAction.link, target: primaryAction.target, onClick: primaryAction.onClick, children: primaryAction.text })] })] }) });
};
exports.BannerMultiline = BannerMultiline;
