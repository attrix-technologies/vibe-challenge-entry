"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPieLegendItems = void 0;
const formatValue_1 = require("../plugins/legend/formatValue");
const getPieLegendItems = (data, options, isHidden) => {
    if (data.datasets.length === 0) {
        return [];
    }
    const labels = (data.labels || []);
    const dataset = data.datasets[0];
    const colors = dataset.backgroundColor || [];
    const legendItems = dataset.data.map((item, index) => ({
        color: colors[index] && typeof colors[index] === "string" ? colors[index] : "",
        text: labels[index] && typeof labels[index] === "string" ? labels[index] : "",
        value: isHidden(index) ? undefined : (0, formatValue_1.formatValue)((item).toFixed(2), index, options === null || options === void 0 ? void 0 : options.unit),
        index: index,
        hidden: false
    }));
    return legendItems;
};
exports.getPieLegendItems = getPieLegendItems;
