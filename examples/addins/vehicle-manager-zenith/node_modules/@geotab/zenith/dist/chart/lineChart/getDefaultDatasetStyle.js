"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDefaultDatasetStyle = void 0;
const colorUtils_1 = require("../../commonHelpers/colorUtils");
const getDatasetColor_1 = require("./getDatasetColor");
const defaultLineOptions = {
    borderWidth: 2,
    pointRadius: 5,
    pointHoverRadius: 7,
    pointHitRadius: 10
};
const getDefaultDatasetStyle = (dataSet, dsIndex) => {
    var _a;
    const newDataSet = Object.assign({}, dataSet);
    const baseColor = ((_a = dataSet.backgroundColor) === null || _a === void 0 ? void 0 : _a.toString()) || (0, getDatasetColor_1.getDatasetColor)(dsIndex);
    const lineStyle = defaultLineOptions;
    newDataSet.borderColor = baseColor;
    newDataSet.backgroundColor = (0, colorUtils_1.hexToRGBA)(baseColor, 0.09) || "";
    if (dataSet.borderWidth === undefined) {
        newDataSet.borderWidth = lineStyle.borderWidth;
    }
    if (!dataSet.pointRadius) {
        const pointRs = Array(dataSet.data.length).fill(0);
        const pointHoverRs = Array(dataSet.data.length).fill(lineStyle.pointRadius);
        pointRs[pointRs.length - 1] = lineStyle.pointRadius;
        newDataSet.pointRadius = pointRs;
        pointHoverRs[pointHoverRs.length - 1] = lineStyle.pointHoverRadius;
        newDataSet.pointHoverRadius = pointHoverRs;
        newDataSet.pointHitRadius = lineStyle.pointHitRadius;
        newDataSet.pointBackgroundColor = dataSet.pointBackgroundColor || baseColor;
    }
    if (dataSet.pointBackgroundColor) {
        newDataSet.pointBorderColor = dataSet.pointBackgroundColor;
    }
    return newDataSet;
};
exports.getDefaultDatasetStyle = getDefaultDatasetStyle;
