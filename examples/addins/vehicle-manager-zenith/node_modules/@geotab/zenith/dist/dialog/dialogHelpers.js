"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getFocusableStartInd = exports.isFocusable = exports.isElementInsideContainer = void 0;
const buttonType_1 = require("../button/buttonType");
const isElementInsideContainer = (element, container) => {
    let el = element;
    while (el) {
        if (el === container) {
            return true;
        }
        el = el.parentNode;
        if (el === document.body && el !== container) {
            return false;
        }
    }
    return false;
};
exports.isElementInsideContainer = isElementInsideContainer;
const isFocusable = (element) => {
    if (!element) {
        return false;
    }
    if (typeof element.focus !== "function") {
        return false;
    }
    if (element.tabIndex === -1) {
        return false;
    }
    const style = window.getComputedStyle(element);
    if (style.display === "none" || style.visibility === "hidden") {
        return false;
    }
    return true;
};
exports.isFocusable = isFocusable;
const getFocusableStartInd = (btnArr) => {
    if (!btnArr.length) {
        return -1;
    }
    if (btnArr.length === 1) {
        return (!btnArr[0].type && !btnArr[0].disabled) || (btnArr[0].type !== buttonType_1.ButtonType.Destructive && !btnArr[0].disabled) ? 0 : -1;
    }
    let startInd = -1;
    let i = 0;
    while (i < btnArr.length && startInd < 0) {
        if (!btnArr[i].type || (btnArr[i].type !== buttonType_1.ButtonType.Destructive && btnArr[i].type !== buttonType_1.ButtonType.Primary)) {
            startInd = btnArr[i].disabled ? -1 : i;
        }
        i += 1;
    }
    if (startInd > -1) {
        return startInd;
    }
    return btnArr.findIndex((el) => el.type !== buttonType_1.ButtonType.Destructive && !el.disabled);
};
exports.getFocusableStartInd = getFocusableStartInd;
