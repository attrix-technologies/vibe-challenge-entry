"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDefaultDatasetStyle = void 0;
const colorUtils_1 = require("../commonHelpers/colorUtils");
const defaultLineOptions = {
    borderWidth: 2,
    pointRadius: 5,
    pointHoverRadius: 7,
    pointHitRadius: 10
};
const defaultThinLineOptions = {
    borderWidth: 1,
    pointRadius: 3,
    pointHoverRadius: 5,
    pointHitRadius: 6
};
const baseColors = [
    "#2853BD",
    "#DA7C3A",
    "#4AA75E",
    "#1098FF",
    "#3852D6",
    "#D35D80"
];
const getDefaultDatasetStyle = (dataSet, dsIndex, useThinLines = false) => {
    var _a;
    const newDataSet = Object.assign({}, dataSet);
    const baseColor = ((_a = dataSet.backgroundColor) === null || _a === void 0 ? void 0 : _a.toString()) || baseColors[dsIndex % baseColors.length];
    const lineStyle = useThinLines ? defaultThinLineOptions : defaultLineOptions;
    newDataSet.borderColor = baseColor;
    newDataSet.backgroundColor = (0, colorUtils_1.hexToRGBA)(baseColor, 0.09) || "";
    if (!dataSet.borderWidth) {
        newDataSet.borderWidth = lineStyle.borderWidth;
    }
    if (!dataSet.pointRadius) {
        const poinRs = Array(dataSet.data.length).fill(0);
        const pointHoverRs = Array(dataSet.data.length).fill(lineStyle.pointRadius);
        poinRs[poinRs.length - 1] = lineStyle.pointRadius;
        newDataSet.pointRadius = poinRs;
        pointHoverRs[pointHoverRs.length - 1] = lineStyle.pointHoverRadius;
        newDataSet.pointHoverRadius = pointHoverRs;
        newDataSet.pointHitRadius = lineStyle.pointHitRadius;
        newDataSet.pointBackgroundColor = dataSet.pointBackgroundColor || baseColor;
    }
    if (!dataSet.hasOwnProperty("fill") && newDataSet.backgroundColor) {
        newDataSet.fill = true;
    }
    if (dataSet.pointBackgroundColor) {
        newDataSet.pointBorderColor = dataSet.pointBackgroundColor;
    }
    return newDataSet;
};
exports.getDefaultDatasetStyle = getDefaultDatasetStyle;
