"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FiltersSearchItemData = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const useLanguage_1 = require("../../utils/localization/useLanguage");
const button_1 = require("../../button/button");
const classNames_1 = require("../../commonHelpers/classNames/classNames");
const isActiveElement_1 = require("../../list/utils/isActiveElement");
const iconClose_1 = require("../../icons/iconClose");
const FiltersSearchItemData = ({ id, icon, isActive, iconClassName, name, secondary, onClick, onClose, isDrive, isMobile }) => {
    const { translate } = (0, useLanguage_1.useLanguage)();
    const driveClassName = (0, react_1.useMemo)(() => isDrive
        ? isMobile ? "zen-search-item-data--drive" : "zen-search-item-data--drive-tablet"
        : "", [isDrive, isMobile]);
    const renderIcon = (0, react_1.useCallback)((iconComponent, iClassName, className) => {
        if (typeof iconComponent === "function") {
            return (0, react_1.createElement)(iconComponent, { size: "large", className: (0, classNames_1.classNames)([className || "", iClassName || ""]) });
        }
        return iconComponent;
    }, []);
    const handleClick = (0, react_1.useCallback)((e) => {
        if (!onClick) {
            return;
        }
        if (e.target instanceof HTMLElement && (0, isActiveElement_1.isActiveElement)(e.target)) {
            return;
        }
        onClick();
    }, [onClick]);
    const handleClose = (0, react_1.useCallback)((e) => {
        if (!onClose) {
            return;
        }
        e.preventDefault();
        e.stopPropagation();
        onClose();
    }, [onClose]);
    return (0, jsx_runtime_1.jsx)("li", { tabIndex: 0, className: (0, classNames_1.classNames)(["zen-search-item-data", isActive ? "zen-search-item-data--active" : "",
            onClick ? "zen-search-item-data--clickable" : "", driveClassName || ""]), "data-list-item-id": id, onClick: handleClick, children: (0, jsx_runtime_1.jsxs)("div", { className: "zen-search-item-data__main", children: [icon ? (0, jsx_runtime_1.jsx)("div", { className: (0, classNames_1.classNames)(["zen-search-item-data__icon", iconClassName || ""]), children: renderIcon(icon) }) : null, (0, jsx_runtime_1.jsxs)("div", { className: "zen-search-item-data__main-data", children: [(0, jsx_runtime_1.jsxs)("div", { className: "zen-search-item-data__identifier", children: [(0, jsx_runtime_1.jsx)("div", { className: "zen-search-item-data__name", children: name }), secondary ? (0, jsx_runtime_1.jsx)("div", { className: "zen-search-item-data__secondary", children: secondary }) : null] }), onClose ? (0, jsx_runtime_1.jsx)(button_1.Button, { type: "tertiary-black", className: "zen-search-item-data__close", onClick: handleClose, title: translate("Close"), "aria-label": translate("Close"), children: (0, jsx_runtime_1.jsx)(iconClose_1.IconClose, { size: "large", className: "zen-search-item-data__close-icon" }) }) : null] })] }) }, id);
};
exports.FiltersSearchItemData = FiltersSearchItemData;
